{"ast":null,"code":"import { select, pointer } from 'd3-selection';\nimport { scaleLinear, scalePow } from 'd3-scale';\nimport { hierarchy, partition } from 'd3-hierarchy';\nimport { arc } from 'd3-shape';\nimport { path } from 'd3-path';\nimport { interpolate } from 'd3-interpolate';\nimport { transition } from 'd3-transition';\nimport Kapsule from 'kapsule';\nimport accessorFn from 'accessor-fn';\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\nvar css_248z = \".sunburst-viz .slice path {\\n  cursor: pointer;\\n}\\n\\n.sunburst-viz text {\\n  font-family: sans-serif;\\n  font-size: 12px;\\n  dominant-baseline: middle;\\n  text-anchor: middle;\\n  pointer-events: none;\\n  fill: #222;\\n}\\n\\n.sunburst-viz .text-contour {\\n  fill: none;\\n  stroke: white;\\n  stroke-width: 5;\\n  stroke-linejoin: 'round';\\n}\\n\\n.sunburst-viz .main-arc {\\n  stroke-width: 1px;\\n  transition: opacity .4s;\\n}\\n\\n.sunburst-viz .main-arc:hover {\\n  opacity: 0.85;\\n  transition: opacity .05s;\\n}\\n\\n.sunburst-viz .hidden-arc {\\n  fill: none;\\n}\\n\\n.sunburst-viz {\\n  position: relative;\\n}\\n\\n.sunburst-tooltip {\\n  display: none;\\n  position: absolute;\\n  max-width: 320px;\\n  white-space: nowrap;\\n  padding: 5px;\\n  border-radius: 3px;\\n  font: 12px sans-serif;\\n  color: #eee;\\n  background: rgba(0,0,0,0.65);\\n  pointer-events: none;\\n}\\n\\n.sunburst-tooltip .tooltip-title {\\n  font-weight: bold;\\n  text-align: center;\\n  margin-bottom: 5px;\\n}\\n\";\nstyleInject(css_248z);\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nvar CHAR_PX_WIDTH = 7;\nvar CHAR_PX_HEIGHT = 14;\nvar sunburst = Kapsule({\n  props: {\n    width: {\n      \"default\": window.innerWidth\n    },\n    height: {\n      \"default\": window.innerHeight\n    },\n    data: {\n      onChange: function onChange(_, state) {\n        state.needsReparse = true;\n      }\n    },\n    children: {\n      \"default\": 'children',\n      onChange: function onChange(_, state) {\n        state.needsReparse = true;\n      }\n    },\n    sort: {\n      onChange: function onChange(_, state) {\n        state.needsReparse = true;\n      }\n    },\n    label: {\n      \"default\": function _default(d) {\n        return d.name;\n      }\n    },\n    labelOrientation: {\n      \"default\": 'auto'\n    },\n    // angular, radial, auto\n    size: {\n      \"default\": 'value',\n      onChange: function onChange(_, state) {\n        state.needsReparse = true;\n      }\n    },\n    color: {\n      \"default\": function _default(d) {\n        return 'lightgrey';\n      }\n    },\n    strokeColor: {\n      \"default\": function _default(d) {\n        return 'white';\n      }\n    },\n    nodeClassName: {},\n    // Additional css classes to add on each slice node\n    minSliceAngle: {\n      \"default\": .2\n    },\n    maxLevels: {},\n    excludeRoot: {\n      \"default\": false,\n      onChange: function onChange(_, state) {\n        state.needsReparse = true;\n      }\n    },\n    centerRadius: {\n      \"default\": 0.1\n    },\n    radiusScaleExponent: {\n      \"default\": 0.5\n    },\n    // radius decreases quadratically outwards to preserve area\n    showLabels: {\n      \"default\": true\n    },\n    tooltipContent: {\n      \"default\": function _default(d) {\n        return '';\n      },\n      triggerUpdate: false\n    },\n    tooltipTitle: {\n      \"default\": null,\n      triggerUpdate: false\n    },\n    showTooltip: {\n      \"default\": function _default(d) {\n        return true;\n      },\n      triggerUpdate: false\n    },\n    focusOnNode: {\n      onChange: function onChange(d, state) {\n        if (d && state.initialised) {\n          moveStackToFront(d.__dataNode);\n        }\n        function moveStackToFront(elD) {\n          state.svg.selectAll('.slice').filter(function (d) {\n            return d === elD;\n          }).each(function (d) {\n            this.parentNode.appendChild(this);\n            if (d.parent) {\n              moveStackToFront(d.parent);\n            }\n          });\n        }\n      }\n    },\n    onClick: {\n      triggerUpdate: false\n    },\n    onHover: {\n      triggerUpdate: false\n    },\n    transitionDuration: {\n      \"default\": 750,\n      triggerUpdate: false\n    }\n  },\n  methods: {\n    _parseData: function _parseData(state) {\n      if (state.data) {\n        var hierData = hierarchy(state.data, accessorFn(state.children)).sum(accessorFn(state.size));\n        if (state.sort) {\n          hierData.sort(state.sort);\n        }\n        partition().padding(0)(hierData);\n        if (state.excludeRoot) {\n          // re-scale y values if excluding root\n          var yScale = scaleLinear().domain([hierData.y1 - hierData.y0, 1]);\n          hierData.descendants().forEach(function (d) {\n            d.y0 = yScale(d.y0);\n            d.y1 = yScale(d.y1);\n          });\n        }\n        hierData.descendants().forEach(function (d, i) {\n          d.id = i; // Mark each node with a unique ID\n\n          d.data.__dataNode = d; // Dual-link data nodes\n        });\n\n        state.layoutData = hierData.descendants();\n      }\n    }\n  },\n  aliases: {\n    onNodeClick: 'onClick'\n  },\n  init: function init(domNode, state) {\n    var _this = this;\n    state.chartId = Math.round(Math.random() * 1e12); // Unique ID for DOM elems\n\n    state.radiusScale = scalePow();\n    state.angleScale = scaleLinear().domain([0, 10]) // For initial build-in animation\n    .range([0, 2 * Math.PI]).clamp(true);\n    state.arc = arc().startAngle(function (d) {\n      return state.angleScale(d.x0);\n    }).endAngle(function (d) {\n      return state.angleScale(d.x1);\n    }).innerRadius(function (d) {\n      return Math.max(0, state.radiusScale(d.y0));\n    }).outerRadius(function (d) {\n      return Math.max(0, state.radiusScale(d.y1));\n    });\n    var el = select(domNode).append('div').attr('class', 'sunburst-viz');\n    state.svg = el.append('svg');\n    state.canvas = state.svg.append('g'); // tooltips\n\n    state.tooltip = el.append('div').attr('class', 'sunburst-tooltip');\n    el.on('mousemove', function (ev) {\n      var mousePos = pointer(ev);\n      state.tooltip.style('left', mousePos[0] + 'px').style('top', mousePos[1] + 'px').style('transform', \"translate(-\".concat(mousePos[0] / state.width * 100, \"%, 21px)\")); // adjust horizontal position to not exceed canvas boundaries\n    }); // Reset focus by clicking on canvas\n\n    state.svg.on('click', function () {\n      return (state.onClick || _this.focusOnNode)(null);\n    }) // By default reset zoom when clicking on canvas\n    .on('mouseover', function () {\n      return state.onHover && state.onHover(null);\n    });\n  },\n  update: function update(state) {\n    var _this2 = this;\n    if (state.needsReparse) {\n      this._parseData();\n      state.needsReparse = false;\n    }\n    var maxRadius = Math.min(state.width, state.height) / 2;\n    state.radiusScale.range([maxRadius * Math.max(0, Math.min(1, state.centerRadius)), maxRadius]);\n    state.radiusScaleExponent > 0 && state.radiusScale.exponent(state.radiusScaleExponent);\n    state.svg.style('width', state.width + 'px').style('height', state.height + 'px').attr('viewBox', \"\".concat(-state.width / 2, \" \").concat(-state.height / 2, \" \").concat(state.width, \" \").concat(state.height));\n    if (!state.layoutData) return;\n    var focusD = state.focusOnNode && state.focusOnNode.__dataNode.y0 >= 0 && state.focusOnNode.__dataNode || {\n      x0: 0,\n      x1: 1,\n      y0: 0,\n      y1: 1\n    };\n    var slice = state.canvas.selectAll('.slice').data(state.layoutData.filter(function (d) {\n      return (\n        // Show only slices with a large enough angle and within the max levels\n        d.x1 >= focusD.x0 && d.x0 <= focusD.x1 && (d.x1 - d.x0) / (focusD.x1 - focusD.x0) > state.minSliceAngle / 360 && (!state.maxLevels || d.depth - (focusD.depth || (state.excludeRoot ? 1 : 0)) < state.maxLevels) && (d.y0 >= 0 || focusD.parent)\n      );\n    } // hide negative layers on top level\n    ), function (d) {\n      return d.id;\n    });\n    var nameOf = accessorFn(state.label);\n    var colorOf = accessorFn(state.color);\n    var strokeColorOf = accessorFn(state.strokeColor);\n    var nodeClassNameOf = accessorFn(state.nodeClassName);\n    var transition$1 = transition().duration(state.transitionDuration);\n    var levelYDelta = state.layoutData[0].y1 - state.layoutData[0].y0;\n    var maxY = Math.min(1, focusD.y0 + levelYDelta * Math.min(focusD.hasOwnProperty('height') ? focusD.height + 1 : Infinity, state.maxLevels || Infinity)); // Apply zoom\n\n    state.svg.transition(transition$1).tween('scale', function () {\n      var xd = interpolate(state.angleScale.domain(), [focusD.x0, focusD.x1]);\n      var yd = interpolate(state.radiusScale.domain(), [focusD.y0, maxY]);\n      return function (t) {\n        state.angleScale.domain(xd(t));\n        state.radiusScale.domain(yd(t));\n      };\n    }); // Exiting\n\n    var oldSlice = slice.exit().transition(transition$1).style('opacity', 0).remove();\n    oldSlice.select('path.main-arc').attrTween('d', function (d) {\n      return function () {\n        return state.arc(d);\n      };\n    });\n    oldSlice.select('path.hidden-arc').attrTween('d', function (d) {\n      return function () {\n        return middleArcLine(d);\n      };\n    }); // Entering\n\n    var newSlice = slice.enter().append('g').style('opacity', 0).on('click', function (ev, d) {\n      ev.stopPropagation();\n      (state.onClick || _this2.focusOnNode)(d.data);\n    }).on('mouseover', function (ev, d) {\n      ev.stopPropagation();\n      state.onHover && state.onHover(d.data);\n      state.tooltip.style('display', state.showTooltip(d.data, d) ? 'inline' : 'none');\n      state.tooltip.html(\"<div class=\\\"tooltip-title\\\">\".concat(state.tooltipTitle ? state.tooltipTitle(d.data, d) : getNodeStack(d).slice(state.excludeRoot ? 1 : 0).map(function (d) {\n        return nameOf(d.data);\n      }).join(' &rarr; '), \"</div>\").concat(state.tooltipContent(d.data, d)));\n    }).on('mouseout', function () {\n      state.tooltip.style('display', 'none');\n    });\n    newSlice.append('path').attr('class', 'main-arc').style('stroke', function (d) {\n      return strokeColorOf(d.data, d.parent);\n    }).style('fill', function (d) {\n      return colorOf(d.data, d.parent);\n    });\n    newSlice.append('path').attr('class', 'hidden-arc').attr('id', function (d) {\n      return \"hidden-arc-\".concat(state.chartId, \"-\").concat(d.id);\n    }); // angular label\n\n    var angularLabel = newSlice.append('text').attr('class', 'angular-label'); // Add white contour\n\n    angularLabel.append('textPath').attr('class', 'text-contour').attr('startOffset', '50%').attr('xlink:href', function (d) {\n      return \"#hidden-arc-\".concat(state.chartId, \"-\").concat(d.id);\n    });\n    angularLabel.append('textPath').attr('class', 'text-stroke').attr('startOffset', '50%').attr('xlink:href', function (d) {\n      return \"#hidden-arc-\".concat(state.chartId, \"-\").concat(d.id);\n    }); // radial label\n\n    var radialLabel = newSlice.append('g').attr('class', 'radial-label');\n    radialLabel.append('text').attr('class', 'text-contour'); // white contour\n\n    radialLabel.append('text').attr('class', 'text-stroke'); // Entering + Updating\n\n    var allSlices = slice.merge(newSlice);\n    allSlices.style('opacity', 1).attr('class', function (d) {\n      return ['slice'].concat(_toConsumableArray(\"\".concat(nodeClassNameOf(d.data) || '').split(' ').map(function (str) {\n        return str.trim();\n      }))).filter(function (s) {\n        return s;\n      }).join(' ');\n    });\n    allSlices.select('path.main-arc').transition(transition$1).attrTween('d', function (d) {\n      return function () {\n        return state.arc(d);\n      };\n    }).style('stroke', function (d) {\n      return strokeColorOf(d.data, d.parent);\n    }).style('fill', function (d) {\n      return colorOf(d.data, d.parent);\n    });\n    var computeAngularLabels = state.showLabels && ['angular', 'auto'].includes(state.labelOrientation.toLowerCase());\n    var computeRadialLabels = state.showLabels && ['radial', 'auto'].includes(state.labelOrientation.toLowerCase());\n    if (computeAngularLabels) {\n      allSlices.select('path.hidden-arc').transition(transition$1).attrTween('d', function (d) {\n        return function () {\n          return middleArcLine(d);\n        };\n      });\n    } // Ensure propagation of data to labels children\n\n    allSlices.select('text.angular-label').select('textPath.text-contour');\n    allSlices.select('text.angular-label').select('textPath.text-stroke');\n    allSlices.select('g.radial-label').select('text.text-contour');\n    allSlices.select('g.radial-label').select('text.text-stroke'); // Show/hide labels\n\n    allSlices.select('.angular-label').transition(transition$1).styleTween('display', function (d) {\n      return function () {\n        return computeAngularLabels && (state.labelOrientation === 'auto' ? autoPickLabelOrientation(d) === 'angular' : angularTextFits(d)) ? null : 'none';\n      };\n    });\n    allSlices.select('.radial-label').transition(transition$1).styleTween('display', function (d) {\n      return function () {\n        return computeRadialLabels && (state.labelOrientation === 'auto' ? autoPickLabelOrientation(d) === 'radial' : radialTextFits(d)) ? null : 'none';\n      };\n    }); // Set labels\n\n    computeAngularLabels && allSlices.selectAll('text.angular-label').selectAll('textPath').text(function (d) {\n      return nameOf(d.data);\n    });\n    computeRadialLabels && allSlices.selectAll('g.radial-label').selectAll('text').text(function (d) {\n      return nameOf(d.data);\n    }).transition(transition$1).attrTween('transform', function (d) {\n      return function () {\n        return radialTextTransform(d);\n      };\n    }); //\n\n    function middleArcLine(d) {\n      var halfPi = Math.PI / 2;\n      var angles = [state.angleScale(d.x0) - halfPi, state.angleScale(d.x1) - halfPi];\n      var r = Math.max(0, (state.radiusScale(d.y0) + state.radiusScale(d.y1)) / 2);\n      if (!r || !(angles[1] - angles[0])) return '';\n      var middleAngle = (angles[1] + angles[0]) / 2;\n      var invertDirection = middleAngle > 0 && middleAngle < Math.PI; // On lower quadrants write text ccw\n\n      if (invertDirection) {\n        angles.reverse();\n      }\n      var path$1 = path();\n      path$1.arc(0, 0, r, angles[0], angles[1], invertDirection);\n      return path$1.toString();\n    }\n    function radialTextTransform(d) {\n      var middleAngle = (state.angleScale(d.x0) + state.angleScale(d.x1) - Math.PI) / 2;\n      var r = Math.max(0, (state.radiusScale(d.y0) + state.radiusScale(d.y1)) / 2);\n      var x = r * Math.cos(middleAngle);\n      var y = r * Math.sin(middleAngle);\n      var rot = middleAngle * 180 / Math.PI;\n      middleAngle > Math.PI / 2 && middleAngle < Math.PI * 3 / 2 && (rot += 180); // prevent upside down text\n\n      return \"translate(\".concat(x, \", \").concat(y, \") rotate(\").concat(rot, \")\");\n    }\n    function angularTextFits(d) {\n      var deltaAngle = state.angleScale(d.x1) - state.angleScale(d.x0);\n      var r = Math.max(0, (state.radiusScale(d.y0) + state.radiusScale(d.y1)) / 2);\n      var perimeter = r * deltaAngle;\n      return nameOf(d.data).toString().length * CHAR_PX_WIDTH < perimeter;\n    }\n    function radialTextFits(d) {\n      var availableHeight = state.radiusScale(d.y0) * (state.angleScale(d.x1) - state.angleScale(d.x0));\n      if (availableHeight < CHAR_PX_HEIGHT) return false; // not enough angular space\n\n      var availableLength = state.radiusScale(d.y1) - state.radiusScale(d.y0);\n      return nameOf(d.data).toString().length * CHAR_PX_WIDTH < availableLength;\n    }\n    function autoPickLabelOrientation(d) {\n      // prefer mode that keeps text most horizontal\n      var angle = (state.angleScale(d.x0) + state.angleScale(d.x1)) / 2 % Math.PI;\n      var preferRadial = angle > Math.PI / 4 && angle < Math.PI * 3 / 4;\n      return preferRadial ? radialTextFits(d) ? 'radial' : angularTextFits(d) ? 'angular' : null : angularTextFits(d) ? 'angular' : radialTextFits(d) ? 'radial' : null;\n    }\n    function getNodeStack(d) {\n      var stack = [];\n      var curNode = d;\n      while (curNode) {\n        stack.unshift(curNode);\n        curNode = curNode.parent;\n      }\n      return stack;\n    }\n  }\n});\nexport { sunburst as default };","map":{"version":3,"names":["select","pointer","scaleLinear","scalePow","hierarchy","partition","arc","path","interpolate","transition","Kapsule","accessorFn","styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","css_248z","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","isArray","_arrayLikeToArray","iter","Symbol","iterator","from","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","len","length","i","arr2","TypeError","CHAR_PX_WIDTH","CHAR_PX_HEIGHT","sunburst","props","width","window","innerWidth","height","innerHeight","data","onChange","_","state","needsReparse","children","sort","label","_default","d","labelOrientation","size","color","strokeColor","nodeClassName","minSliceAngle","maxLevels","excludeRoot","centerRadius","radiusScaleExponent","showLabels","tooltipContent","triggerUpdate","tooltipTitle","showTooltip","focusOnNode","initialised","moveStackToFront","__dataNode","elD","svg","selectAll","filter","each","parentNode","parent","onClick","onHover","transitionDuration","methods","_parseData","hierData","sum","padding","yScale","domain","y1","y0","descendants","forEach","id","layoutData","aliases","onNodeClick","init","domNode","_this","chartId","Math","round","random","radiusScale","angleScale","range","PI","clamp","startAngle","x0","endAngle","x1","innerRadius","max","outerRadius","el","append","attr","canvas","tooltip","on","ev","mousePos","concat","update","_this2","maxRadius","min","exponent","focusD","depth","nameOf","colorOf","strokeColorOf","nodeClassNameOf","transition$1","duration","levelYDelta","maxY","hasOwnProperty","Infinity","tween","xd","yd","t","oldSlice","exit","remove","attrTween","middleArcLine","newSlice","enter","stopPropagation","html","getNodeStack","map","join","angularLabel","radialLabel","allSlices","merge","split","str","trim","s","computeAngularLabels","includes","toLowerCase","computeRadialLabels","styleTween","autoPickLabelOrientation","angularTextFits","radialTextFits","text","radialTextTransform","halfPi","angles","r","middleAngle","invertDirection","reverse","path$1","x","cos","y","sin","rot","deltaAngle","perimeter","availableHeight","availableLength","angle","preferRadial","stack","curNode","unshift","default"],"sources":["/Users/thinhpld0/Desktop/IU/Data science _ Data visualization - thầy Tùng/PROJECT/data_prj/sunburst-onclick-working-1/node_modules/sunburst-chart/dist/sunburst-chart.module.js"],"sourcesContent":["import { select, pointer } from 'd3-selection';\nimport { scaleLinear, scalePow } from 'd3-scale';\nimport { hierarchy, partition } from 'd3-hierarchy';\nimport { arc } from 'd3-shape';\nimport { path } from 'd3-path';\nimport { interpolate } from 'd3-interpolate';\nimport { transition } from 'd3-transition';\nimport Kapsule from 'kapsule';\nimport accessorFn from 'accessor-fn';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".sunburst-viz .slice path {\\n  cursor: pointer;\\n}\\n\\n.sunburst-viz text {\\n  font-family: sans-serif;\\n  font-size: 12px;\\n  dominant-baseline: middle;\\n  text-anchor: middle;\\n  pointer-events: none;\\n  fill: #222;\\n}\\n\\n.sunburst-viz .text-contour {\\n  fill: none;\\n  stroke: white;\\n  stroke-width: 5;\\n  stroke-linejoin: 'round';\\n}\\n\\n.sunburst-viz .main-arc {\\n  stroke-width: 1px;\\n  transition: opacity .4s;\\n}\\n\\n.sunburst-viz .main-arc:hover {\\n  opacity: 0.85;\\n  transition: opacity .05s;\\n}\\n\\n.sunburst-viz .hidden-arc {\\n  fill: none;\\n}\\n\\n.sunburst-viz {\\n  position: relative;\\n}\\n\\n.sunburst-tooltip {\\n  display: none;\\n  position: absolute;\\n  max-width: 320px;\\n  white-space: nowrap;\\n  padding: 5px;\\n  border-radius: 3px;\\n  font: 12px sans-serif;\\n  color: #eee;\\n  background: rgba(0,0,0,0.65);\\n  pointer-events: none;\\n}\\n\\n.sunburst-tooltip .tooltip-title {\\n  font-weight: bold;\\n  text-align: center;\\n  margin-bottom: 5px;\\n}\\n\";\nstyleInject(css_248z);\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar CHAR_PX_WIDTH = 7;\nvar CHAR_PX_HEIGHT = 14;\nvar sunburst = Kapsule({\n  props: {\n    width: {\n      \"default\": window.innerWidth\n    },\n    height: {\n      \"default\": window.innerHeight\n    },\n    data: {\n      onChange: function onChange(_, state) {\n        state.needsReparse = true;\n      }\n    },\n    children: {\n      \"default\": 'children',\n      onChange: function onChange(_, state) {\n        state.needsReparse = true;\n      }\n    },\n    sort: {\n      onChange: function onChange(_, state) {\n        state.needsReparse = true;\n      }\n    },\n    label: {\n      \"default\": function _default(d) {\n        return d.name;\n      }\n    },\n    labelOrientation: {\n      \"default\": 'auto'\n    },\n    // angular, radial, auto\n    size: {\n      \"default\": 'value',\n      onChange: function onChange(_, state) {\n        state.needsReparse = true;\n      }\n    },\n    color: {\n      \"default\": function _default(d) {\n        return 'lightgrey';\n      }\n    },\n    strokeColor: {\n      \"default\": function _default(d) {\n        return 'white';\n      }\n    },\n    nodeClassName: {},\n    // Additional css classes to add on each slice node\n    minSliceAngle: {\n      \"default\": .2\n    },\n    maxLevels: {},\n    excludeRoot: {\n      \"default\": false,\n      onChange: function onChange(_, state) {\n        state.needsReparse = true;\n      }\n    },\n    centerRadius: {\n      \"default\": 0.1\n    },\n    radiusScaleExponent: {\n      \"default\": 0.5\n    },\n    // radius decreases quadratically outwards to preserve area\n    showLabels: {\n      \"default\": true\n    },\n    tooltipContent: {\n      \"default\": function _default(d) {\n        return '';\n      },\n      triggerUpdate: false\n    },\n    tooltipTitle: {\n      \"default\": null,\n      triggerUpdate: false\n    },\n    showTooltip: {\n      \"default\": function _default(d) {\n        return true;\n      },\n      triggerUpdate: false\n    },\n    focusOnNode: {\n      onChange: function onChange(d, state) {\n        if (d && state.initialised) {\n          moveStackToFront(d.__dataNode);\n        }\n\n        function moveStackToFront(elD) {\n          state.svg.selectAll('.slice').filter(function (d) {\n            return d === elD;\n          }).each(function (d) {\n            this.parentNode.appendChild(this);\n\n            if (d.parent) {\n              moveStackToFront(d.parent);\n            }\n          });\n        }\n      }\n    },\n    onClick: {\n      triggerUpdate: false\n    },\n    onHover: {\n      triggerUpdate: false\n    },\n    transitionDuration: {\n      \"default\": 750,\n      triggerUpdate: false\n    }\n  },\n  methods: {\n    _parseData: function _parseData(state) {\n      if (state.data) {\n        var hierData = hierarchy(state.data, accessorFn(state.children)).sum(accessorFn(state.size));\n\n        if (state.sort) {\n          hierData.sort(state.sort);\n        }\n\n        partition().padding(0)(hierData);\n\n        if (state.excludeRoot) {\n          // re-scale y values if excluding root\n          var yScale = scaleLinear().domain([hierData.y1 - hierData.y0, 1]);\n          hierData.descendants().forEach(function (d) {\n            d.y0 = yScale(d.y0);\n            d.y1 = yScale(d.y1);\n          });\n        }\n\n        hierData.descendants().forEach(function (d, i) {\n          d.id = i; // Mark each node with a unique ID\n\n          d.data.__dataNode = d; // Dual-link data nodes\n        });\n        state.layoutData = hierData.descendants();\n      }\n    }\n  },\n  aliases: {\n    onNodeClick: 'onClick'\n  },\n  init: function init(domNode, state) {\n    var _this = this;\n\n    state.chartId = Math.round(Math.random() * 1e12); // Unique ID for DOM elems\n\n    state.radiusScale = scalePow();\n    state.angleScale = scaleLinear().domain([0, 10]) // For initial build-in animation\n    .range([0, 2 * Math.PI]).clamp(true);\n    state.arc = arc().startAngle(function (d) {\n      return state.angleScale(d.x0);\n    }).endAngle(function (d) {\n      return state.angleScale(d.x1);\n    }).innerRadius(function (d) {\n      return Math.max(0, state.radiusScale(d.y0));\n    }).outerRadius(function (d) {\n      return Math.max(0, state.radiusScale(d.y1));\n    });\n    var el = select(domNode).append('div').attr('class', 'sunburst-viz');\n    state.svg = el.append('svg');\n    state.canvas = state.svg.append('g'); // tooltips\n\n    state.tooltip = el.append('div').attr('class', 'sunburst-tooltip');\n    el.on('mousemove', function (ev) {\n      var mousePos = pointer(ev);\n      state.tooltip.style('left', mousePos[0] + 'px').style('top', mousePos[1] + 'px').style('transform', \"translate(-\".concat(mousePos[0] / state.width * 100, \"%, 21px)\")); // adjust horizontal position to not exceed canvas boundaries\n    }); // Reset focus by clicking on canvas\n\n    state.svg.on('click', function () {\n      return (state.onClick || _this.focusOnNode)(null);\n    }) // By default reset zoom when clicking on canvas\n    .on('mouseover', function () {\n      return state.onHover && state.onHover(null);\n    });\n  },\n  update: function update(state) {\n    var _this2 = this;\n\n    if (state.needsReparse) {\n      this._parseData();\n\n      state.needsReparse = false;\n    }\n\n    var maxRadius = Math.min(state.width, state.height) / 2;\n    state.radiusScale.range([maxRadius * Math.max(0, Math.min(1, state.centerRadius)), maxRadius]);\n    state.radiusScaleExponent > 0 && state.radiusScale.exponent(state.radiusScaleExponent);\n    state.svg.style('width', state.width + 'px').style('height', state.height + 'px').attr('viewBox', \"\".concat(-state.width / 2, \" \").concat(-state.height / 2, \" \").concat(state.width, \" \").concat(state.height));\n    if (!state.layoutData) return;\n    var focusD = state.focusOnNode && state.focusOnNode.__dataNode.y0 >= 0 && state.focusOnNode.__dataNode || {\n      x0: 0,\n      x1: 1,\n      y0: 0,\n      y1: 1\n    };\n    var slice = state.canvas.selectAll('.slice').data(state.layoutData.filter(function (d) {\n      return (// Show only slices with a large enough angle and within the max levels\n        d.x1 >= focusD.x0 && d.x0 <= focusD.x1 && (d.x1 - d.x0) / (focusD.x1 - focusD.x0) > state.minSliceAngle / 360 && (!state.maxLevels || d.depth - (focusD.depth || (state.excludeRoot ? 1 : 0)) < state.maxLevels) && (d.y0 >= 0 || focusD.parent)\n      );\n    } // hide negative layers on top level\n    ), function (d) {\n      return d.id;\n    });\n    var nameOf = accessorFn(state.label);\n    var colorOf = accessorFn(state.color);\n    var strokeColorOf = accessorFn(state.strokeColor);\n    var nodeClassNameOf = accessorFn(state.nodeClassName);\n    var transition$1 = transition().duration(state.transitionDuration);\n    var levelYDelta = state.layoutData[0].y1 - state.layoutData[0].y0;\n    var maxY = Math.min(1, focusD.y0 + levelYDelta * Math.min(focusD.hasOwnProperty('height') ? focusD.height + 1 : Infinity, state.maxLevels || Infinity)); // Apply zoom\n\n    state.svg.transition(transition$1).tween('scale', function () {\n      var xd = interpolate(state.angleScale.domain(), [focusD.x0, focusD.x1]);\n      var yd = interpolate(state.radiusScale.domain(), [focusD.y0, maxY]);\n      return function (t) {\n        state.angleScale.domain(xd(t));\n        state.radiusScale.domain(yd(t));\n      };\n    }); // Exiting\n\n    var oldSlice = slice.exit().transition(transition$1).style('opacity', 0).remove();\n    oldSlice.select('path.main-arc').attrTween('d', function (d) {\n      return function () {\n        return state.arc(d);\n      };\n    });\n    oldSlice.select('path.hidden-arc').attrTween('d', function (d) {\n      return function () {\n        return middleArcLine(d);\n      };\n    }); // Entering\n\n    var newSlice = slice.enter().append('g').style('opacity', 0).on('click', function (ev, d) {\n      ev.stopPropagation();\n\n      (state.onClick || _this2.focusOnNode)(d.data);\n    }).on('mouseover', function (ev, d) {\n      ev.stopPropagation();\n      state.onHover && state.onHover(d.data);\n      state.tooltip.style('display', state.showTooltip(d.data, d) ? 'inline' : 'none');\n      state.tooltip.html(\"<div class=\\\"tooltip-title\\\">\".concat(state.tooltipTitle ? state.tooltipTitle(d.data, d) : getNodeStack(d).slice(state.excludeRoot ? 1 : 0).map(function (d) {\n        return nameOf(d.data);\n      }).join(' &rarr; '), \"</div>\").concat(state.tooltipContent(d.data, d)));\n    }).on('mouseout', function () {\n      state.tooltip.style('display', 'none');\n    });\n    newSlice.append('path').attr('class', 'main-arc').style('stroke', function (d) {\n      return strokeColorOf(d.data, d.parent);\n    }).style('fill', function (d) {\n      return colorOf(d.data, d.parent);\n    });\n    newSlice.append('path').attr('class', 'hidden-arc').attr('id', function (d) {\n      return \"hidden-arc-\".concat(state.chartId, \"-\").concat(d.id);\n    }); // angular label\n\n    var angularLabel = newSlice.append('text').attr('class', 'angular-label'); // Add white contour\n\n    angularLabel.append('textPath').attr('class', 'text-contour').attr('startOffset', '50%').attr('xlink:href', function (d) {\n      return \"#hidden-arc-\".concat(state.chartId, \"-\").concat(d.id);\n    });\n    angularLabel.append('textPath').attr('class', 'text-stroke').attr('startOffset', '50%').attr('xlink:href', function (d) {\n      return \"#hidden-arc-\".concat(state.chartId, \"-\").concat(d.id);\n    }); // radial label\n\n    var radialLabel = newSlice.append('g').attr('class', 'radial-label');\n    radialLabel.append('text').attr('class', 'text-contour'); // white contour\n\n    radialLabel.append('text').attr('class', 'text-stroke'); // Entering + Updating\n\n    var allSlices = slice.merge(newSlice);\n    allSlices.style('opacity', 1).attr('class', function (d) {\n      return ['slice'].concat(_toConsumableArray(\"\".concat(nodeClassNameOf(d.data) || '').split(' ').map(function (str) {\n        return str.trim();\n      }))).filter(function (s) {\n        return s;\n      }).join(' ');\n    });\n    allSlices.select('path.main-arc').transition(transition$1).attrTween('d', function (d) {\n      return function () {\n        return state.arc(d);\n      };\n    }).style('stroke', function (d) {\n      return strokeColorOf(d.data, d.parent);\n    }).style('fill', function (d) {\n      return colorOf(d.data, d.parent);\n    });\n    var computeAngularLabels = state.showLabels && ['angular', 'auto'].includes(state.labelOrientation.toLowerCase());\n    var computeRadialLabels = state.showLabels && ['radial', 'auto'].includes(state.labelOrientation.toLowerCase());\n\n    if (computeAngularLabels) {\n      allSlices.select('path.hidden-arc').transition(transition$1).attrTween('d', function (d) {\n        return function () {\n          return middleArcLine(d);\n        };\n      });\n    } // Ensure propagation of data to labels children\n\n\n    allSlices.select('text.angular-label').select('textPath.text-contour');\n    allSlices.select('text.angular-label').select('textPath.text-stroke');\n    allSlices.select('g.radial-label').select('text.text-contour');\n    allSlices.select('g.radial-label').select('text.text-stroke'); // Show/hide labels\n\n    allSlices.select('.angular-label').transition(transition$1).styleTween('display', function (d) {\n      return function () {\n        return computeAngularLabels && (state.labelOrientation === 'auto' ? autoPickLabelOrientation(d) === 'angular' : angularTextFits(d)) ? null : 'none';\n      };\n    });\n    allSlices.select('.radial-label').transition(transition$1).styleTween('display', function (d) {\n      return function () {\n        return computeRadialLabels && (state.labelOrientation === 'auto' ? autoPickLabelOrientation(d) === 'radial' : radialTextFits(d)) ? null : 'none';\n      };\n    }); // Set labels\n\n    computeAngularLabels && allSlices.selectAll('text.angular-label').selectAll('textPath').text(function (d) {\n      return nameOf(d.data);\n    });\n    computeRadialLabels && allSlices.selectAll('g.radial-label').selectAll('text').text(function (d) {\n      return nameOf(d.data);\n    }).transition(transition$1).attrTween('transform', function (d) {\n      return function () {\n        return radialTextTransform(d);\n      };\n    }); //\n\n    function middleArcLine(d) {\n      var halfPi = Math.PI / 2;\n      var angles = [state.angleScale(d.x0) - halfPi, state.angleScale(d.x1) - halfPi];\n      var r = Math.max(0, (state.radiusScale(d.y0) + state.radiusScale(d.y1)) / 2);\n      if (!r || !(angles[1] - angles[0])) return '';\n      var middleAngle = (angles[1] + angles[0]) / 2;\n      var invertDirection = middleAngle > 0 && middleAngle < Math.PI; // On lower quadrants write text ccw\n\n      if (invertDirection) {\n        angles.reverse();\n      }\n\n      var path$1 = path();\n      path$1.arc(0, 0, r, angles[0], angles[1], invertDirection);\n      return path$1.toString();\n    }\n\n    function radialTextTransform(d) {\n      var middleAngle = (state.angleScale(d.x0) + state.angleScale(d.x1) - Math.PI) / 2;\n      var r = Math.max(0, (state.radiusScale(d.y0) + state.radiusScale(d.y1)) / 2);\n      var x = r * Math.cos(middleAngle);\n      var y = r * Math.sin(middleAngle);\n      var rot = middleAngle * 180 / Math.PI;\n      middleAngle > Math.PI / 2 && middleAngle < Math.PI * 3 / 2 && (rot += 180); // prevent upside down text\n\n      return \"translate(\".concat(x, \", \").concat(y, \") rotate(\").concat(rot, \")\");\n    }\n\n    function angularTextFits(d) {\n      var deltaAngle = state.angleScale(d.x1) - state.angleScale(d.x0);\n      var r = Math.max(0, (state.radiusScale(d.y0) + state.radiusScale(d.y1)) / 2);\n      var perimeter = r * deltaAngle;\n      return nameOf(d.data).toString().length * CHAR_PX_WIDTH < perimeter;\n    }\n\n    function radialTextFits(d) {\n      var availableHeight = state.radiusScale(d.y0) * (state.angleScale(d.x1) - state.angleScale(d.x0));\n      if (availableHeight < CHAR_PX_HEIGHT) return false; // not enough angular space\n\n      var availableLength = state.radiusScale(d.y1) - state.radiusScale(d.y0);\n      return nameOf(d.data).toString().length * CHAR_PX_WIDTH < availableLength;\n    }\n\n    function autoPickLabelOrientation(d) {\n      // prefer mode that keeps text most horizontal\n      var angle = (state.angleScale(d.x0) + state.angleScale(d.x1)) / 2 % Math.PI;\n      var preferRadial = angle > Math.PI / 4 && angle < Math.PI * 3 / 4;\n      return preferRadial ? radialTextFits(d) ? 'radial' : angularTextFits(d) ? 'angular' : null : angularTextFits(d) ? 'angular' : radialTextFits(d) ? 'radial' : null;\n    }\n\n    function getNodeStack(d) {\n      var stack = [];\n      var curNode = d;\n\n      while (curNode) {\n        stack.unshift(curNode);\n        curNode = curNode.parent;\n      }\n\n      return stack;\n    }\n  }\n});\n\nexport { sunburst as default };\n"],"mappings":"AAAA,SAASA,MAAM,EAAEC,OAAO,QAAQ,cAAc;AAC9C,SAASC,WAAW,EAAEC,QAAQ,QAAQ,UAAU;AAChD,SAASC,SAAS,EAAEC,SAAS,QAAQ,cAAc;AACnD,SAASC,GAAG,QAAQ,UAAU;AAC9B,SAASC,IAAI,QAAQ,SAAS;AAC9B,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,UAAU,QAAQ,eAAe;AAC1C,OAAOC,OAAO,MAAM,SAAS;AAC7B,OAAOC,UAAU,MAAM,aAAa;AAEpC,SAASC,WAAWA,CAACC,GAAG,EAAEC,GAAG,EAAE;EAC7B,IAAIA,GAAG,KAAK,KAAK,CAAC,EAAEA,GAAG,GAAG,CAAC,CAAC;EAC5B,IAAIC,QAAQ,GAAGD,GAAG,CAACC,QAAQ;EAE3B,IAAI,CAACF,GAAG,IAAI,OAAOG,QAAQ,KAAK,WAAW,EAAE;IAC3C;EACF;EAEA,IAAIC,IAAI,GAAGD,QAAQ,CAACC,IAAI,IAAID,QAAQ,CAACE,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;EACpE,IAAIC,KAAK,GAAGH,QAAQ,CAACI,aAAa,CAAC,OAAO,CAAC;EAC3CD,KAAK,CAACE,IAAI,GAAG,UAAU;EAEvB,IAAIN,QAAQ,KAAK,KAAK,EAAE;IACtB,IAAIE,IAAI,CAACK,UAAU,EAAE;MACnBL,IAAI,CAACM,YAAY,CAACJ,KAAK,EAAEF,IAAI,CAACK,UAAU,CAAC;IAC3C,CAAC,MAAM;MACLL,IAAI,CAACO,WAAW,CAACL,KAAK,CAAC;IACzB;EACF,CAAC,MAAM;IACLF,IAAI,CAACO,WAAW,CAACL,KAAK,CAAC;EACzB;EAEA,IAAIA,KAAK,CAACM,UAAU,EAAE;IACpBN,KAAK,CAACM,UAAU,CAACC,OAAO,GAAGb,GAAG;EAChC,CAAC,MAAM;IACLM,KAAK,CAACK,WAAW,CAACR,QAAQ,CAACW,cAAc,CAACd,GAAG,CAAC,CAAC;EACjD;AACF;AAEA,IAAIe,QAAQ,GAAG,m8BAAm8B;AACl9BhB,WAAW,CAACgB,QAAQ,CAAC;AAErB,SAASC,kBAAkBA,CAACC,GAAG,EAAE;EAC/B,OAAOC,kBAAkB,CAACD,GAAG,CAAC,IAAIE,gBAAgB,CAACF,GAAG,CAAC,IAAIG,2BAA2B,CAACH,GAAG,CAAC,IAAII,kBAAkB,CAAC,CAAC;AACrH;AAEA,SAASH,kBAAkBA,CAACD,GAAG,EAAE;EAC/B,IAAIK,KAAK,CAACC,OAAO,CAACN,GAAG,CAAC,EAAE,OAAOO,iBAAiB,CAACP,GAAG,CAAC;AACvD;AAEA,SAASE,gBAAgBA,CAACM,IAAI,EAAE;EAC9B,IAAI,OAAOC,MAAM,KAAK,WAAW,IAAID,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,IAAI,IAAI,IAAIF,IAAI,CAAC,YAAY,CAAC,IAAI,IAAI,EAAE,OAAOH,KAAK,CAACM,IAAI,CAACH,IAAI,CAAC;AAC3H;AAEA,SAASL,2BAA2BA,CAACS,CAAC,EAAEC,MAAM,EAAE;EAC9C,IAAI,CAACD,CAAC,EAAE;EACR,IAAI,OAAOA,CAAC,KAAK,QAAQ,EAAE,OAAOL,iBAAiB,CAACK,CAAC,EAAEC,MAAM,CAAC;EAC9D,IAAIC,CAAC,GAAGC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAACC,IAAI,CAACN,CAAC,CAAC,CAACO,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACtD,IAAIL,CAAC,KAAK,QAAQ,IAAIF,CAAC,CAACQ,WAAW,EAAEN,CAAC,GAAGF,CAAC,CAACQ,WAAW,CAACC,IAAI;EAC3D,IAAIP,CAAC,KAAK,KAAK,IAAIA,CAAC,KAAK,KAAK,EAAE,OAAOT,KAAK,CAACM,IAAI,CAACC,CAAC,CAAC;EACpD,IAAIE,CAAC,KAAK,WAAW,IAAI,0CAA0C,CAACQ,IAAI,CAACR,CAAC,CAAC,EAAE,OAAOP,iBAAiB,CAACK,CAAC,EAAEC,MAAM,CAAC;AAClH;AAEA,SAASN,iBAAiBA,CAACP,GAAG,EAAEuB,GAAG,EAAE;EACnC,IAAIA,GAAG,IAAI,IAAI,IAAIA,GAAG,GAAGvB,GAAG,CAACwB,MAAM,EAAED,GAAG,GAAGvB,GAAG,CAACwB,MAAM;EAErD,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEC,IAAI,GAAG,IAAIrB,KAAK,CAACkB,GAAG,CAAC,EAAEE,CAAC,GAAGF,GAAG,EAAEE,CAAC,EAAE,EAAEC,IAAI,CAACD,CAAC,CAAC,GAAGzB,GAAG,CAACyB,CAAC,CAAC;EAErE,OAAOC,IAAI;AACb;AAEA,SAAStB,kBAAkBA,CAAA,EAAG;EAC5B,MAAM,IAAIuB,SAAS,CAAC,sIAAsI,CAAC;AAC7J;AAEA,IAAIC,aAAa,GAAG,CAAC;AACrB,IAAIC,cAAc,GAAG,EAAE;AACvB,IAAIC,QAAQ,GAAGlD,OAAO,CAAC;EACrBmD,KAAK,EAAE;IACLC,KAAK,EAAE;MACL,SAAS,EAAEC,MAAM,CAACC;IACpB,CAAC;IACDC,MAAM,EAAE;MACN,SAAS,EAAEF,MAAM,CAACG;IACpB,CAAC;IACDC,IAAI,EAAE;MACJC,QAAQ,EAAE,SAASA,QAAQA,CAACC,CAAC,EAAEC,KAAK,EAAE;QACpCA,KAAK,CAACC,YAAY,GAAG,IAAI;MAC3B;IACF,CAAC;IACDC,QAAQ,EAAE;MACR,SAAS,EAAE,UAAU;MACrBJ,QAAQ,EAAE,SAASA,QAAQA,CAACC,CAAC,EAAEC,KAAK,EAAE;QACpCA,KAAK,CAACC,YAAY,GAAG,IAAI;MAC3B;IACF,CAAC;IACDE,IAAI,EAAE;MACJL,QAAQ,EAAE,SAASA,QAAQA,CAACC,CAAC,EAAEC,KAAK,EAAE;QACpCA,KAAK,CAACC,YAAY,GAAG,IAAI;MAC3B;IACF,CAAC;IACDG,KAAK,EAAE;MACL,SAAS,EAAE,SAASC,QAAQA,CAACC,CAAC,EAAE;QAC9B,OAAOA,CAAC,CAACzB,IAAI;MACf;IACF,CAAC;IACD0B,gBAAgB,EAAE;MAChB,SAAS,EAAE;IACb,CAAC;IACD;IACAC,IAAI,EAAE;MACJ,SAAS,EAAE,OAAO;MAClBV,QAAQ,EAAE,SAASA,QAAQA,CAACC,CAAC,EAAEC,KAAK,EAAE;QACpCA,KAAK,CAACC,YAAY,GAAG,IAAI;MAC3B;IACF,CAAC;IACDQ,KAAK,EAAE;MACL,SAAS,EAAE,SAASJ,QAAQA,CAACC,CAAC,EAAE;QAC9B,OAAO,WAAW;MACpB;IACF,CAAC;IACDI,WAAW,EAAE;MACX,SAAS,EAAE,SAASL,QAAQA,CAACC,CAAC,EAAE;QAC9B,OAAO,OAAO;MAChB;IACF,CAAC;IACDK,aAAa,EAAE,CAAC,CAAC;IACjB;IACAC,aAAa,EAAE;MACb,SAAS,EAAE;IACb,CAAC;IACDC,SAAS,EAAE,CAAC,CAAC;IACbC,WAAW,EAAE;MACX,SAAS,EAAE,KAAK;MAChBhB,QAAQ,EAAE,SAASA,QAAQA,CAACC,CAAC,EAAEC,KAAK,EAAE;QACpCA,KAAK,CAACC,YAAY,GAAG,IAAI;MAC3B;IACF,CAAC;IACDc,YAAY,EAAE;MACZ,SAAS,EAAE;IACb,CAAC;IACDC,mBAAmB,EAAE;MACnB,SAAS,EAAE;IACb,CAAC;IACD;IACAC,UAAU,EAAE;MACV,SAAS,EAAE;IACb,CAAC;IACDC,cAAc,EAAE;MACd,SAAS,EAAE,SAASb,QAAQA,CAACC,CAAC,EAAE;QAC9B,OAAO,EAAE;MACX,CAAC;MACDa,aAAa,EAAE;IACjB,CAAC;IACDC,YAAY,EAAE;MACZ,SAAS,EAAE,IAAI;MACfD,aAAa,EAAE;IACjB,CAAC;IACDE,WAAW,EAAE;MACX,SAAS,EAAE,SAAShB,QAAQA,CAACC,CAAC,EAAE;QAC9B,OAAO,IAAI;MACb,CAAC;MACDa,aAAa,EAAE;IACjB,CAAC;IACDG,WAAW,EAAE;MACXxB,QAAQ,EAAE,SAASA,QAAQA,CAACQ,CAAC,EAAEN,KAAK,EAAE;QACpC,IAAIM,CAAC,IAAIN,KAAK,CAACuB,WAAW,EAAE;UAC1BC,gBAAgB,CAAClB,CAAC,CAACmB,UAAU,CAAC;QAChC;QAEA,SAASD,gBAAgBA,CAACE,GAAG,EAAE;UAC7B1B,KAAK,CAAC2B,GAAG,CAACC,SAAS,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,UAAUvB,CAAC,EAAE;YAChD,OAAOA,CAAC,KAAKoB,GAAG;UAClB,CAAC,CAAC,CAACI,IAAI,CAAC,UAAUxB,CAAC,EAAE;YACnB,IAAI,CAACyB,UAAU,CAAC7E,WAAW,CAAC,IAAI,CAAC;YAEjC,IAAIoD,CAAC,CAAC0B,MAAM,EAAE;cACZR,gBAAgB,CAAClB,CAAC,CAAC0B,MAAM,CAAC;YAC5B;UACF,CAAC,CAAC;QACJ;MACF;IACF,CAAC;IACDC,OAAO,EAAE;MACPd,aAAa,EAAE;IACjB,CAAC;IACDe,OAAO,EAAE;MACPf,aAAa,EAAE;IACjB,CAAC;IACDgB,kBAAkB,EAAE;MAClB,SAAS,EAAE,GAAG;MACdhB,aAAa,EAAE;IACjB;EACF,CAAC;EACDiB,OAAO,EAAE;IACPC,UAAU,EAAE,SAASA,UAAUA,CAACrC,KAAK,EAAE;MACrC,IAAIA,KAAK,CAACH,IAAI,EAAE;QACd,IAAIyC,QAAQ,GAAGxG,SAAS,CAACkE,KAAK,CAACH,IAAI,EAAExD,UAAU,CAAC2D,KAAK,CAACE,QAAQ,CAAC,CAAC,CAACqC,GAAG,CAAClG,UAAU,CAAC2D,KAAK,CAACQ,IAAI,CAAC,CAAC;QAE5F,IAAIR,KAAK,CAACG,IAAI,EAAE;UACdmC,QAAQ,CAACnC,IAAI,CAACH,KAAK,CAACG,IAAI,CAAC;QAC3B;QAEApE,SAAS,CAAC,CAAC,CAACyG,OAAO,CAAC,CAAC,CAAC,CAACF,QAAQ,CAAC;QAEhC,IAAItC,KAAK,CAACc,WAAW,EAAE;UACrB;UACA,IAAI2B,MAAM,GAAG7G,WAAW,CAAC,CAAC,CAAC8G,MAAM,CAAC,CAACJ,QAAQ,CAACK,EAAE,GAAGL,QAAQ,CAACM,EAAE,EAAE,CAAC,CAAC,CAAC;UACjEN,QAAQ,CAACO,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,UAAUxC,CAAC,EAAE;YAC1CA,CAAC,CAACsC,EAAE,GAAGH,MAAM,CAACnC,CAAC,CAACsC,EAAE,CAAC;YACnBtC,CAAC,CAACqC,EAAE,GAAGF,MAAM,CAACnC,CAAC,CAACqC,EAAE,CAAC;UACrB,CAAC,CAAC;QACJ;QAEAL,QAAQ,CAACO,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,UAAUxC,CAAC,EAAErB,CAAC,EAAE;UAC7CqB,CAAC,CAACyC,EAAE,GAAG9D,CAAC,CAAC,CAAC;;UAEVqB,CAAC,CAACT,IAAI,CAAC4B,UAAU,GAAGnB,CAAC,CAAC,CAAC;QACzB,CAAC,CAAC;;QACFN,KAAK,CAACgD,UAAU,GAAGV,QAAQ,CAACO,WAAW,CAAC,CAAC;MAC3C;IACF;EACF,CAAC;EACDI,OAAO,EAAE;IACPC,WAAW,EAAE;EACf,CAAC;EACDC,IAAI,EAAE,SAASA,IAAIA,CAACC,OAAO,EAAEpD,KAAK,EAAE;IAClC,IAAIqD,KAAK,GAAG,IAAI;IAEhBrD,KAAK,CAACsD,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;;IAElDzD,KAAK,CAAC0D,WAAW,GAAG7H,QAAQ,CAAC,CAAC;IAC9BmE,KAAK,CAAC2D,UAAU,GAAG/H,WAAW,CAAC,CAAC,CAAC8G,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;IAAA,CAChDkB,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,GAAGL,IAAI,CAACM,EAAE,CAAC,CAAC,CAACC,KAAK,CAAC,IAAI,CAAC;IACpC9D,KAAK,CAAChE,GAAG,GAAGA,GAAG,CAAC,CAAC,CAAC+H,UAAU,CAAC,UAAUzD,CAAC,EAAE;MACxC,OAAON,KAAK,CAAC2D,UAAU,CAACrD,CAAC,CAAC0D,EAAE,CAAC;IAC/B,CAAC,CAAC,CAACC,QAAQ,CAAC,UAAU3D,CAAC,EAAE;MACvB,OAAON,KAAK,CAAC2D,UAAU,CAACrD,CAAC,CAAC4D,EAAE,CAAC;IAC/B,CAAC,CAAC,CAACC,WAAW,CAAC,UAAU7D,CAAC,EAAE;MAC1B,OAAOiD,IAAI,CAACa,GAAG,CAAC,CAAC,EAAEpE,KAAK,CAAC0D,WAAW,CAACpD,CAAC,CAACsC,EAAE,CAAC,CAAC;IAC7C,CAAC,CAAC,CAACyB,WAAW,CAAC,UAAU/D,CAAC,EAAE;MAC1B,OAAOiD,IAAI,CAACa,GAAG,CAAC,CAAC,EAAEpE,KAAK,CAAC0D,WAAW,CAACpD,CAAC,CAACqC,EAAE,CAAC,CAAC;IAC7C,CAAC,CAAC;IACF,IAAI2B,EAAE,GAAG5I,MAAM,CAAC0H,OAAO,CAAC,CAACmB,MAAM,CAAC,KAAK,CAAC,CAACC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;IACpExE,KAAK,CAAC2B,GAAG,GAAG2C,EAAE,CAACC,MAAM,CAAC,KAAK,CAAC;IAC5BvE,KAAK,CAACyE,MAAM,GAAGzE,KAAK,CAAC2B,GAAG,CAAC4C,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;;IAEtCvE,KAAK,CAAC0E,OAAO,GAAGJ,EAAE,CAACC,MAAM,CAAC,KAAK,CAAC,CAACC,IAAI,CAAC,OAAO,EAAE,kBAAkB,CAAC;IAClEF,EAAE,CAACK,EAAE,CAAC,WAAW,EAAE,UAAUC,EAAE,EAAE;MAC/B,IAAIC,QAAQ,GAAGlJ,OAAO,CAACiJ,EAAE,CAAC;MAC1B5E,KAAK,CAAC0E,OAAO,CAAC7H,KAAK,CAAC,MAAM,EAAEgI,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAChI,KAAK,CAAC,KAAK,EAAEgI,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAChI,KAAK,CAAC,WAAW,EAAE,aAAa,CAACiI,MAAM,CAACD,QAAQ,CAAC,CAAC,CAAC,GAAG7E,KAAK,CAACR,KAAK,GAAG,GAAG,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;IAC1K,CAAC,CAAC,CAAC,CAAC;;IAEJQ,KAAK,CAAC2B,GAAG,CAACgD,EAAE,CAAC,OAAO,EAAE,YAAY;MAChC,OAAO,CAAC3E,KAAK,CAACiC,OAAO,IAAIoB,KAAK,CAAC/B,WAAW,EAAE,IAAI,CAAC;IACnD,CAAC,CAAC,CAAC;IAAA,CACFqD,EAAE,CAAC,WAAW,EAAE,YAAY;MAC3B,OAAO3E,KAAK,CAACkC,OAAO,IAAIlC,KAAK,CAACkC,OAAO,CAAC,IAAI,CAAC;IAC7C,CAAC,CAAC;EACJ,CAAC;EACD6C,MAAM,EAAE,SAASA,MAAMA,CAAC/E,KAAK,EAAE;IAC7B,IAAIgF,MAAM,GAAG,IAAI;IAEjB,IAAIhF,KAAK,CAACC,YAAY,EAAE;MACtB,IAAI,CAACoC,UAAU,CAAC,CAAC;MAEjBrC,KAAK,CAACC,YAAY,GAAG,KAAK;IAC5B;IAEA,IAAIgF,SAAS,GAAG1B,IAAI,CAAC2B,GAAG,CAAClF,KAAK,CAACR,KAAK,EAAEQ,KAAK,CAACL,MAAM,CAAC,GAAG,CAAC;IACvDK,KAAK,CAAC0D,WAAW,CAACE,KAAK,CAAC,CAACqB,SAAS,GAAG1B,IAAI,CAACa,GAAG,CAAC,CAAC,EAAEb,IAAI,CAAC2B,GAAG,CAAC,CAAC,EAAElF,KAAK,CAACe,YAAY,CAAC,CAAC,EAAEkE,SAAS,CAAC,CAAC;IAC9FjF,KAAK,CAACgB,mBAAmB,GAAG,CAAC,IAAIhB,KAAK,CAAC0D,WAAW,CAACyB,QAAQ,CAACnF,KAAK,CAACgB,mBAAmB,CAAC;IACtFhB,KAAK,CAAC2B,GAAG,CAAC9E,KAAK,CAAC,OAAO,EAAEmD,KAAK,CAACR,KAAK,GAAG,IAAI,CAAC,CAAC3C,KAAK,CAAC,QAAQ,EAAEmD,KAAK,CAACL,MAAM,GAAG,IAAI,CAAC,CAAC6E,IAAI,CAAC,SAAS,EAAE,EAAE,CAACM,MAAM,CAAC,CAAC9E,KAAK,CAACR,KAAK,GAAG,CAAC,EAAE,GAAG,CAAC,CAACsF,MAAM,CAAC,CAAC9E,KAAK,CAACL,MAAM,GAAG,CAAC,EAAE,GAAG,CAAC,CAACmF,MAAM,CAAC9E,KAAK,CAACR,KAAK,EAAE,GAAG,CAAC,CAACsF,MAAM,CAAC9E,KAAK,CAACL,MAAM,CAAC,CAAC;IAChN,IAAI,CAACK,KAAK,CAACgD,UAAU,EAAE;IACvB,IAAIoC,MAAM,GAAGpF,KAAK,CAACsB,WAAW,IAAItB,KAAK,CAACsB,WAAW,CAACG,UAAU,CAACmB,EAAE,IAAI,CAAC,IAAI5C,KAAK,CAACsB,WAAW,CAACG,UAAU,IAAI;MACxGuC,EAAE,EAAE,CAAC;MACLE,EAAE,EAAE,CAAC;MACLtB,EAAE,EAAE,CAAC;MACLD,EAAE,EAAE;IACN,CAAC;IACD,IAAIhE,KAAK,GAAGqB,KAAK,CAACyE,MAAM,CAAC7C,SAAS,CAAC,QAAQ,CAAC,CAAC/B,IAAI,CAACG,KAAK,CAACgD,UAAU,CAACnB,MAAM,CAAC,UAAUvB,CAAC,EAAE;MACrF;QAAQ;QACNA,CAAC,CAAC4D,EAAE,IAAIkB,MAAM,CAACpB,EAAE,IAAI1D,CAAC,CAAC0D,EAAE,IAAIoB,MAAM,CAAClB,EAAE,IAAI,CAAC5D,CAAC,CAAC4D,EAAE,GAAG5D,CAAC,CAAC0D,EAAE,KAAKoB,MAAM,CAAClB,EAAE,GAAGkB,MAAM,CAACpB,EAAE,CAAC,GAAGhE,KAAK,CAACY,aAAa,GAAG,GAAG,KAAK,CAACZ,KAAK,CAACa,SAAS,IAAIP,CAAC,CAAC+E,KAAK,IAAID,MAAM,CAACC,KAAK,KAAKrF,KAAK,CAACc,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAGd,KAAK,CAACa,SAAS,CAAC,KAAKP,CAAC,CAACsC,EAAE,IAAI,CAAC,IAAIwC,MAAM,CAACpD,MAAM;MAAC;IAEpP,CAAC,CAAC;IACF,CAAC,EAAE,UAAU1B,CAAC,EAAE;MACd,OAAOA,CAAC,CAACyC,EAAE;IACb,CAAC,CAAC;IACF,IAAIuC,MAAM,GAAGjJ,UAAU,CAAC2D,KAAK,CAACI,KAAK,CAAC;IACpC,IAAImF,OAAO,GAAGlJ,UAAU,CAAC2D,KAAK,CAACS,KAAK,CAAC;IACrC,IAAI+E,aAAa,GAAGnJ,UAAU,CAAC2D,KAAK,CAACU,WAAW,CAAC;IACjD,IAAI+E,eAAe,GAAGpJ,UAAU,CAAC2D,KAAK,CAACW,aAAa,CAAC;IACrD,IAAI+E,YAAY,GAAGvJ,UAAU,CAAC,CAAC,CAACwJ,QAAQ,CAAC3F,KAAK,CAACmC,kBAAkB,CAAC;IAClE,IAAIyD,WAAW,GAAG5F,KAAK,CAACgD,UAAU,CAAC,CAAC,CAAC,CAACL,EAAE,GAAG3C,KAAK,CAACgD,UAAU,CAAC,CAAC,CAAC,CAACJ,EAAE;IACjE,IAAIiD,IAAI,GAAGtC,IAAI,CAAC2B,GAAG,CAAC,CAAC,EAAEE,MAAM,CAACxC,EAAE,GAAGgD,WAAW,GAAGrC,IAAI,CAAC2B,GAAG,CAACE,MAAM,CAACU,cAAc,CAAC,QAAQ,CAAC,GAAGV,MAAM,CAACzF,MAAM,GAAG,CAAC,GAAGoG,QAAQ,EAAE/F,KAAK,CAACa,SAAS,IAAIkF,QAAQ,CAAC,CAAC,CAAC,CAAC;;IAEzJ/F,KAAK,CAAC2B,GAAG,CAACxF,UAAU,CAACuJ,YAAY,CAAC,CAACM,KAAK,CAAC,OAAO,EAAE,YAAY;MAC5D,IAAIC,EAAE,GAAG/J,WAAW,CAAC8D,KAAK,CAAC2D,UAAU,CAACjB,MAAM,CAAC,CAAC,EAAE,CAAC0C,MAAM,CAACpB,EAAE,EAAEoB,MAAM,CAAClB,EAAE,CAAC,CAAC;MACvE,IAAIgC,EAAE,GAAGhK,WAAW,CAAC8D,KAAK,CAAC0D,WAAW,CAAChB,MAAM,CAAC,CAAC,EAAE,CAAC0C,MAAM,CAACxC,EAAE,EAAEiD,IAAI,CAAC,CAAC;MACnE,OAAO,UAAUM,CAAC,EAAE;QAClBnG,KAAK,CAAC2D,UAAU,CAACjB,MAAM,CAACuD,EAAE,CAACE,CAAC,CAAC,CAAC;QAC9BnG,KAAK,CAAC0D,WAAW,CAAChB,MAAM,CAACwD,EAAE,CAACC,CAAC,CAAC,CAAC;MACjC,CAAC;IACH,CAAC,CAAC,CAAC,CAAC;;IAEJ,IAAIC,QAAQ,GAAGzH,KAAK,CAAC0H,IAAI,CAAC,CAAC,CAAClK,UAAU,CAACuJ,YAAY,CAAC,CAAC7I,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAACyJ,MAAM,CAAC,CAAC;IACjFF,QAAQ,CAAC1K,MAAM,CAAC,eAAe,CAAC,CAAC6K,SAAS,CAAC,GAAG,EAAE,UAAUjG,CAAC,EAAE;MAC3D,OAAO,YAAY;QACjB,OAAON,KAAK,CAAChE,GAAG,CAACsE,CAAC,CAAC;MACrB,CAAC;IACH,CAAC,CAAC;IACF8F,QAAQ,CAAC1K,MAAM,CAAC,iBAAiB,CAAC,CAAC6K,SAAS,CAAC,GAAG,EAAE,UAAUjG,CAAC,EAAE;MAC7D,OAAO,YAAY;QACjB,OAAOkG,aAAa,CAAClG,CAAC,CAAC;MACzB,CAAC;IACH,CAAC,CAAC,CAAC,CAAC;;IAEJ,IAAImG,QAAQ,GAAG9H,KAAK,CAAC+H,KAAK,CAAC,CAAC,CAACnC,MAAM,CAAC,GAAG,CAAC,CAAC1H,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC8H,EAAE,CAAC,OAAO,EAAE,UAAUC,EAAE,EAAEtE,CAAC,EAAE;MACxFsE,EAAE,CAAC+B,eAAe,CAAC,CAAC;MAEpB,CAAC3G,KAAK,CAACiC,OAAO,IAAI+C,MAAM,CAAC1D,WAAW,EAAEhB,CAAC,CAACT,IAAI,CAAC;IAC/C,CAAC,CAAC,CAAC8E,EAAE,CAAC,WAAW,EAAE,UAAUC,EAAE,EAAEtE,CAAC,EAAE;MAClCsE,EAAE,CAAC+B,eAAe,CAAC,CAAC;MACpB3G,KAAK,CAACkC,OAAO,IAAIlC,KAAK,CAACkC,OAAO,CAAC5B,CAAC,CAACT,IAAI,CAAC;MACtCG,KAAK,CAAC0E,OAAO,CAAC7H,KAAK,CAAC,SAAS,EAAEmD,KAAK,CAACqB,WAAW,CAACf,CAAC,CAACT,IAAI,EAAES,CAAC,CAAC,GAAG,QAAQ,GAAG,MAAM,CAAC;MAChFN,KAAK,CAAC0E,OAAO,CAACkC,IAAI,CAAC,+BAA+B,CAAC9B,MAAM,CAAC9E,KAAK,CAACoB,YAAY,GAAGpB,KAAK,CAACoB,YAAY,CAACd,CAAC,CAACT,IAAI,EAAES,CAAC,CAAC,GAAGuG,YAAY,CAACvG,CAAC,CAAC,CAAC3B,KAAK,CAACqB,KAAK,CAACc,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC,CAACgG,GAAG,CAAC,UAAUxG,CAAC,EAAE;QAC/K,OAAOgF,MAAM,CAAChF,CAAC,CAACT,IAAI,CAAC;MACvB,CAAC,CAAC,CAACkH,IAAI,CAAC,UAAU,CAAC,EAAE,QAAQ,CAAC,CAACjC,MAAM,CAAC9E,KAAK,CAACkB,cAAc,CAACZ,CAAC,CAACT,IAAI,EAAES,CAAC,CAAC,CAAC,CAAC;IACzE,CAAC,CAAC,CAACqE,EAAE,CAAC,UAAU,EAAE,YAAY;MAC5B3E,KAAK,CAAC0E,OAAO,CAAC7H,KAAK,CAAC,SAAS,EAAE,MAAM,CAAC;IACxC,CAAC,CAAC;IACF4J,QAAQ,CAAClC,MAAM,CAAC,MAAM,CAAC,CAACC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC3H,KAAK,CAAC,QAAQ,EAAE,UAAUyD,CAAC,EAAE;MAC7E,OAAOkF,aAAa,CAAClF,CAAC,CAACT,IAAI,EAAES,CAAC,CAAC0B,MAAM,CAAC;IACxC,CAAC,CAAC,CAACnF,KAAK,CAAC,MAAM,EAAE,UAAUyD,CAAC,EAAE;MAC5B,OAAOiF,OAAO,CAACjF,CAAC,CAACT,IAAI,EAAES,CAAC,CAAC0B,MAAM,CAAC;IAClC,CAAC,CAAC;IACFyE,QAAQ,CAAClC,MAAM,CAAC,MAAM,CAAC,CAACC,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC,CAACA,IAAI,CAAC,IAAI,EAAE,UAAUlE,CAAC,EAAE;MAC1E,OAAO,aAAa,CAACwE,MAAM,CAAC9E,KAAK,CAACsD,OAAO,EAAE,GAAG,CAAC,CAACwB,MAAM,CAACxE,CAAC,CAACyC,EAAE,CAAC;IAC9D,CAAC,CAAC,CAAC,CAAC;;IAEJ,IAAIiE,YAAY,GAAGP,QAAQ,CAAClC,MAAM,CAAC,MAAM,CAAC,CAACC,IAAI,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC,CAAC;;IAE3EwC,YAAY,CAACzC,MAAM,CAAC,UAAU,CAAC,CAACC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAACA,IAAI,CAAC,YAAY,EAAE,UAAUlE,CAAC,EAAE;MACvH,OAAO,cAAc,CAACwE,MAAM,CAAC9E,KAAK,CAACsD,OAAO,EAAE,GAAG,CAAC,CAACwB,MAAM,CAACxE,CAAC,CAACyC,EAAE,CAAC;IAC/D,CAAC,CAAC;IACFiE,YAAY,CAACzC,MAAM,CAAC,UAAU,CAAC,CAACC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAACA,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAACA,IAAI,CAAC,YAAY,EAAE,UAAUlE,CAAC,EAAE;MACtH,OAAO,cAAc,CAACwE,MAAM,CAAC9E,KAAK,CAACsD,OAAO,EAAE,GAAG,CAAC,CAACwB,MAAM,CAACxE,CAAC,CAACyC,EAAE,CAAC;IAC/D,CAAC,CAAC,CAAC,CAAC;;IAEJ,IAAIkE,WAAW,GAAGR,QAAQ,CAAClC,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC;IACpEyC,WAAW,CAAC1C,MAAM,CAAC,MAAM,CAAC,CAACC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC,CAAC;;IAE1DyC,WAAW,CAAC1C,MAAM,CAAC,MAAM,CAAC,CAACC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC,CAAC;;IAEzD,IAAI0C,SAAS,GAAGvI,KAAK,CAACwI,KAAK,CAACV,QAAQ,CAAC;IACrCS,SAAS,CAACrK,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC2H,IAAI,CAAC,OAAO,EAAE,UAAUlE,CAAC,EAAE;MACvD,OAAO,CAAC,OAAO,CAAC,CAACwE,MAAM,CAACvH,kBAAkB,CAAC,EAAE,CAACuH,MAAM,CAACW,eAAe,CAACnF,CAAC,CAACT,IAAI,CAAC,IAAI,EAAE,CAAC,CAACuH,KAAK,CAAC,GAAG,CAAC,CAACN,GAAG,CAAC,UAAUO,GAAG,EAAE;QAChH,OAAOA,GAAG,CAACC,IAAI,CAAC,CAAC;MACnB,CAAC,CAAC,CAAC,CAAC,CAACzF,MAAM,CAAC,UAAU0F,CAAC,EAAE;QACvB,OAAOA,CAAC;MACV,CAAC,CAAC,CAACR,IAAI,CAAC,GAAG,CAAC;IACd,CAAC,CAAC;IACFG,SAAS,CAACxL,MAAM,CAAC,eAAe,CAAC,CAACS,UAAU,CAACuJ,YAAY,CAAC,CAACa,SAAS,CAAC,GAAG,EAAE,UAAUjG,CAAC,EAAE;MACrF,OAAO,YAAY;QACjB,OAAON,KAAK,CAAChE,GAAG,CAACsE,CAAC,CAAC;MACrB,CAAC;IACH,CAAC,CAAC,CAACzD,KAAK,CAAC,QAAQ,EAAE,UAAUyD,CAAC,EAAE;MAC9B,OAAOkF,aAAa,CAAClF,CAAC,CAACT,IAAI,EAAES,CAAC,CAAC0B,MAAM,CAAC;IACxC,CAAC,CAAC,CAACnF,KAAK,CAAC,MAAM,EAAE,UAAUyD,CAAC,EAAE;MAC5B,OAAOiF,OAAO,CAACjF,CAAC,CAACT,IAAI,EAAES,CAAC,CAAC0B,MAAM,CAAC;IAClC,CAAC,CAAC;IACF,IAAIwF,oBAAoB,GAAGxH,KAAK,CAACiB,UAAU,IAAI,CAAC,SAAS,EAAE,MAAM,CAAC,CAACwG,QAAQ,CAACzH,KAAK,CAACO,gBAAgB,CAACmH,WAAW,CAAC,CAAC,CAAC;IACjH,IAAIC,mBAAmB,GAAG3H,KAAK,CAACiB,UAAU,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAACwG,QAAQ,CAACzH,KAAK,CAACO,gBAAgB,CAACmH,WAAW,CAAC,CAAC,CAAC;IAE/G,IAAIF,oBAAoB,EAAE;MACxBN,SAAS,CAACxL,MAAM,CAAC,iBAAiB,CAAC,CAACS,UAAU,CAACuJ,YAAY,CAAC,CAACa,SAAS,CAAC,GAAG,EAAE,UAAUjG,CAAC,EAAE;QACvF,OAAO,YAAY;UACjB,OAAOkG,aAAa,CAAClG,CAAC,CAAC;QACzB,CAAC;MACH,CAAC,CAAC;IACJ,CAAC,CAAC;;IAGF4G,SAAS,CAACxL,MAAM,CAAC,oBAAoB,CAAC,CAACA,MAAM,CAAC,uBAAuB,CAAC;IACtEwL,SAAS,CAACxL,MAAM,CAAC,oBAAoB,CAAC,CAACA,MAAM,CAAC,sBAAsB,CAAC;IACrEwL,SAAS,CAACxL,MAAM,CAAC,gBAAgB,CAAC,CAACA,MAAM,CAAC,mBAAmB,CAAC;IAC9DwL,SAAS,CAACxL,MAAM,CAAC,gBAAgB,CAAC,CAACA,MAAM,CAAC,kBAAkB,CAAC,CAAC,CAAC;;IAE/DwL,SAAS,CAACxL,MAAM,CAAC,gBAAgB,CAAC,CAACS,UAAU,CAACuJ,YAAY,CAAC,CAACkC,UAAU,CAAC,SAAS,EAAE,UAAUtH,CAAC,EAAE;MAC7F,OAAO,YAAY;QACjB,OAAOkH,oBAAoB,KAAKxH,KAAK,CAACO,gBAAgB,KAAK,MAAM,GAAGsH,wBAAwB,CAACvH,CAAC,CAAC,KAAK,SAAS,GAAGwH,eAAe,CAACxH,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,MAAM;MACrJ,CAAC;IACH,CAAC,CAAC;IACF4G,SAAS,CAACxL,MAAM,CAAC,eAAe,CAAC,CAACS,UAAU,CAACuJ,YAAY,CAAC,CAACkC,UAAU,CAAC,SAAS,EAAE,UAAUtH,CAAC,EAAE;MAC5F,OAAO,YAAY;QACjB,OAAOqH,mBAAmB,KAAK3H,KAAK,CAACO,gBAAgB,KAAK,MAAM,GAAGsH,wBAAwB,CAACvH,CAAC,CAAC,KAAK,QAAQ,GAAGyH,cAAc,CAACzH,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,MAAM;MAClJ,CAAC;IACH,CAAC,CAAC,CAAC,CAAC;;IAEJkH,oBAAoB,IAAIN,SAAS,CAACtF,SAAS,CAAC,oBAAoB,CAAC,CAACA,SAAS,CAAC,UAAU,CAAC,CAACoG,IAAI,CAAC,UAAU1H,CAAC,EAAE;MACxG,OAAOgF,MAAM,CAAChF,CAAC,CAACT,IAAI,CAAC;IACvB,CAAC,CAAC;IACF8H,mBAAmB,IAAIT,SAAS,CAACtF,SAAS,CAAC,gBAAgB,CAAC,CAACA,SAAS,CAAC,MAAM,CAAC,CAACoG,IAAI,CAAC,UAAU1H,CAAC,EAAE;MAC/F,OAAOgF,MAAM,CAAChF,CAAC,CAACT,IAAI,CAAC;IACvB,CAAC,CAAC,CAAC1D,UAAU,CAACuJ,YAAY,CAAC,CAACa,SAAS,CAAC,WAAW,EAAE,UAAUjG,CAAC,EAAE;MAC9D,OAAO,YAAY;QACjB,OAAO2H,mBAAmB,CAAC3H,CAAC,CAAC;MAC/B,CAAC;IACH,CAAC,CAAC,CAAC,CAAC;;IAEJ,SAASkG,aAAaA,CAAClG,CAAC,EAAE;MACxB,IAAI4H,MAAM,GAAG3E,IAAI,CAACM,EAAE,GAAG,CAAC;MACxB,IAAIsE,MAAM,GAAG,CAACnI,KAAK,CAAC2D,UAAU,CAACrD,CAAC,CAAC0D,EAAE,CAAC,GAAGkE,MAAM,EAAElI,KAAK,CAAC2D,UAAU,CAACrD,CAAC,CAAC4D,EAAE,CAAC,GAAGgE,MAAM,CAAC;MAC/E,IAAIE,CAAC,GAAG7E,IAAI,CAACa,GAAG,CAAC,CAAC,EAAE,CAACpE,KAAK,CAAC0D,WAAW,CAACpD,CAAC,CAACsC,EAAE,CAAC,GAAG5C,KAAK,CAAC0D,WAAW,CAACpD,CAAC,CAACqC,EAAE,CAAC,IAAI,CAAC,CAAC;MAC5E,IAAI,CAACyF,CAAC,IAAI,EAAED,MAAM,CAAC,CAAC,CAAC,GAAGA,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE;MAC7C,IAAIE,WAAW,GAAG,CAACF,MAAM,CAAC,CAAC,CAAC,GAAGA,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC;MAC7C,IAAIG,eAAe,GAAGD,WAAW,GAAG,CAAC,IAAIA,WAAW,GAAG9E,IAAI,CAACM,EAAE,CAAC,CAAC;;MAEhE,IAAIyE,eAAe,EAAE;QACnBH,MAAM,CAACI,OAAO,CAAC,CAAC;MAClB;MAEA,IAAIC,MAAM,GAAGvM,IAAI,CAAC,CAAC;MACnBuM,MAAM,CAACxM,GAAG,CAAC,CAAC,EAAE,CAAC,EAAEoM,CAAC,EAAED,MAAM,CAAC,CAAC,CAAC,EAAEA,MAAM,CAAC,CAAC,CAAC,EAAEG,eAAe,CAAC;MAC1D,OAAOE,MAAM,CAAC/J,QAAQ,CAAC,CAAC;IAC1B;IAEA,SAASwJ,mBAAmBA,CAAC3H,CAAC,EAAE;MAC9B,IAAI+H,WAAW,GAAG,CAACrI,KAAK,CAAC2D,UAAU,CAACrD,CAAC,CAAC0D,EAAE,CAAC,GAAGhE,KAAK,CAAC2D,UAAU,CAACrD,CAAC,CAAC4D,EAAE,CAAC,GAAGX,IAAI,CAACM,EAAE,IAAI,CAAC;MACjF,IAAIuE,CAAC,GAAG7E,IAAI,CAACa,GAAG,CAAC,CAAC,EAAE,CAACpE,KAAK,CAAC0D,WAAW,CAACpD,CAAC,CAACsC,EAAE,CAAC,GAAG5C,KAAK,CAAC0D,WAAW,CAACpD,CAAC,CAACqC,EAAE,CAAC,IAAI,CAAC,CAAC;MAC5E,IAAI8F,CAAC,GAAGL,CAAC,GAAG7E,IAAI,CAACmF,GAAG,CAACL,WAAW,CAAC;MACjC,IAAIM,CAAC,GAAGP,CAAC,GAAG7E,IAAI,CAACqF,GAAG,CAACP,WAAW,CAAC;MACjC,IAAIQ,GAAG,GAAGR,WAAW,GAAG,GAAG,GAAG9E,IAAI,CAACM,EAAE;MACrCwE,WAAW,GAAG9E,IAAI,CAACM,EAAE,GAAG,CAAC,IAAIwE,WAAW,GAAG9E,IAAI,CAACM,EAAE,GAAG,CAAC,GAAG,CAAC,KAAKgF,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC;;MAE5E,OAAO,YAAY,CAAC/D,MAAM,CAAC2D,CAAC,EAAE,IAAI,CAAC,CAAC3D,MAAM,CAAC6D,CAAC,EAAE,WAAW,CAAC,CAAC7D,MAAM,CAAC+D,GAAG,EAAE,GAAG,CAAC;IAC7E;IAEA,SAASf,eAAeA,CAACxH,CAAC,EAAE;MAC1B,IAAIwI,UAAU,GAAG9I,KAAK,CAAC2D,UAAU,CAACrD,CAAC,CAAC4D,EAAE,CAAC,GAAGlE,KAAK,CAAC2D,UAAU,CAACrD,CAAC,CAAC0D,EAAE,CAAC;MAChE,IAAIoE,CAAC,GAAG7E,IAAI,CAACa,GAAG,CAAC,CAAC,EAAE,CAACpE,KAAK,CAAC0D,WAAW,CAACpD,CAAC,CAACsC,EAAE,CAAC,GAAG5C,KAAK,CAAC0D,WAAW,CAACpD,CAAC,CAACqC,EAAE,CAAC,IAAI,CAAC,CAAC;MAC5E,IAAIoG,SAAS,GAAGX,CAAC,GAAGU,UAAU;MAC9B,OAAOxD,MAAM,CAAChF,CAAC,CAACT,IAAI,CAAC,CAACpB,QAAQ,CAAC,CAAC,CAACO,MAAM,GAAGI,aAAa,GAAG2J,SAAS;IACrE;IAEA,SAAShB,cAAcA,CAACzH,CAAC,EAAE;MACzB,IAAI0I,eAAe,GAAGhJ,KAAK,CAAC0D,WAAW,CAACpD,CAAC,CAACsC,EAAE,CAAC,IAAI5C,KAAK,CAAC2D,UAAU,CAACrD,CAAC,CAAC4D,EAAE,CAAC,GAAGlE,KAAK,CAAC2D,UAAU,CAACrD,CAAC,CAAC0D,EAAE,CAAC,CAAC;MACjG,IAAIgF,eAAe,GAAG3J,cAAc,EAAE,OAAO,KAAK,CAAC,CAAC;;MAEpD,IAAI4J,eAAe,GAAGjJ,KAAK,CAAC0D,WAAW,CAACpD,CAAC,CAACqC,EAAE,CAAC,GAAG3C,KAAK,CAAC0D,WAAW,CAACpD,CAAC,CAACsC,EAAE,CAAC;MACvE,OAAO0C,MAAM,CAAChF,CAAC,CAACT,IAAI,CAAC,CAACpB,QAAQ,CAAC,CAAC,CAACO,MAAM,GAAGI,aAAa,GAAG6J,eAAe;IAC3E;IAEA,SAASpB,wBAAwBA,CAACvH,CAAC,EAAE;MACnC;MACA,IAAI4I,KAAK,GAAG,CAAClJ,KAAK,CAAC2D,UAAU,CAACrD,CAAC,CAAC0D,EAAE,CAAC,GAAGhE,KAAK,CAAC2D,UAAU,CAACrD,CAAC,CAAC4D,EAAE,CAAC,IAAI,CAAC,GAAGX,IAAI,CAACM,EAAE;MAC3E,IAAIsF,YAAY,GAAGD,KAAK,GAAG3F,IAAI,CAACM,EAAE,GAAG,CAAC,IAAIqF,KAAK,GAAG3F,IAAI,CAACM,EAAE,GAAG,CAAC,GAAG,CAAC;MACjE,OAAOsF,YAAY,GAAGpB,cAAc,CAACzH,CAAC,CAAC,GAAG,QAAQ,GAAGwH,eAAe,CAACxH,CAAC,CAAC,GAAG,SAAS,GAAG,IAAI,GAAGwH,eAAe,CAACxH,CAAC,CAAC,GAAG,SAAS,GAAGyH,cAAc,CAACzH,CAAC,CAAC,GAAG,QAAQ,GAAG,IAAI;IACnK;IAEA,SAASuG,YAAYA,CAACvG,CAAC,EAAE;MACvB,IAAI8I,KAAK,GAAG,EAAE;MACd,IAAIC,OAAO,GAAG/I,CAAC;MAEf,OAAO+I,OAAO,EAAE;QACdD,KAAK,CAACE,OAAO,CAACD,OAAO,CAAC;QACtBA,OAAO,GAAGA,OAAO,CAACrH,MAAM;MAC1B;MAEA,OAAOoH,KAAK;IACd;EACF;AACF,CAAC,CAAC;AAEF,SAAS9J,QAAQ,IAAIiK,OAAO"},"metadata":{},"sourceType":"module"}